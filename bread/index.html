<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Sourdough Baking Schedule Mobile App</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            overflow-x: hidden;
        }
        .container {
            width: 100%;
            max-width: 390px;
            padding: env(safe-area-inset-top, 20px) 20px 20px;
            background: #fff;
            box-sizing: border-box;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-y: auto;
        }
        h1 {
            font-size: 1.5em;
            color: #333;
            margin: 0 0 20px;
            text-align: center;
        }
        .step {
            margin-bottom: 20px;
            width: 100%;
        }
        .step h2 {
            font-size: 1.2em;
            color: #333;
            margin: 0 0 10px;
            text-align: center;
        }
        .step p {
            font-size: 0.9em;
            color: #666;
            line-height: 1.4;
            margin: 0 0 15px;
            text-align: left;
        }
        .timer {
            font-size: 1em;
            color: #e74c3c;
            margin: 10px 0;
            text-align: center;
        }
        button {
            background-color: #007aff;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            width: 100%;
            max-width: 200px;
            margin: 0 auto;
            display: block;
        }
        button:hover {
            background-color: #005bcb;
        }
        .hidden {
            display: none;
        }
        /* Scrollbar styling for mobile */
        .container::-webkit-scrollbar {
            display: none;
        }
        .container {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        /* Responsive adjustments */
        @media (max-width: 390px) {
            .container {
                padding: env(safe-area-inset-top, 20px) 15px 15px;
            }
            h1 {
                font-size: 1.3em;
            }
            .step h2 {
                font-size: 1.1em;
            }
            .step p {
                font-size: 0.85em;
            }
            button {
                padding: 10px 20px;
                font-size: 0.9em;
            }
        }
        @media (min-width: 391px) {
            .container {
                max-width: 90%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Sourdough 82% Hydration</h1>
        <div id="step-1" class="step">
            <h2>Day 1 – 10:00 PM: Make Levain</h2>
            <p>Make 90g levain. Rest until next morning.</p>
            <button onclick="startTimerForStep(1)">Start Timer</button>
        </div>
        <div id="step-2" class="step hidden">
            <h2>Day 2 – 9:00 AM: Mix Dough & Autolyse</h2>
            <p>In a warmed bowl, mix 90g levain with 230g water (33°C in winter, 23-26°C in summer for 28°C dough temp). Add 370g strong white flour, 30g rye flour. Rest dough at 23-28°C to hydrate flour and develop gluten. Cover with a wet cloth or use a proving box. (10 min mix + autolyse)</p>
            <div id="timer-2" class="timer"></div>
            <button onclick="startTimerForStep(2)">Start Timer</button>
        </div>
        <div id="step-3" class="step hidden">
            <h2>Day 2 – 11:00 AM: Add Salt & Bulk Fermentation</h2>
            <p>Sprinkle 8g salt over dough, add 25g reserved water, mix 2-3 mins. Add remaining 75g water incrementally (20g at a time), saving 20g for later. Stretch and fold dough 3 times at even intervals (3 x 4 stretches). Add inclusions on second-to-last fold. Dough should increase by 60% in volume.</p>
            <div id="timer-3" class="timer"></div>
            <button onclick="startTimerForStep(3)">Start Timer</button>
        </div>
        <div id="step-4" class="step hidden">
            <h2>Day 2 – 2:00 PM: Shape</h2>
            <p>Lightly flour surface, divide dough, preshape into boules, bench rest 20 mins.</p>
            <div id="timer-4" class="timer"></div>
            <button onclick="startTimerForStep(4)">Start Timer</button>
        </div>
        <div id="step-5" class="step hidden">
            <h2>Day 2 – 2:25 PM: Final Shape</h2>
            <p>Final shape, place seam-side up in floured banneton.</p>
            <div id="timer-5" class="timer"></div>
            <button onclick="startTimerForStep(5)">Start Timer</button>
        </div>
        <div id="step-6" class="step hidden">
            <h2>Day 2 – 4:30 PM: Prove</h2>
            <p>Prove at ambient temp (23-28°C) until ready, dough should be aerated and slightly risen.</p>
            <div id="timer-6" class="timer"></div>
            <button onclick="startTimerForStep(6)">Start Timer</button>
        </div>
        <div id="step-7" class="step hidden">
            <h2>Day 2 – 6:00 PM: Score & Bake</h2>
            <p>Score dough and bake at 180°C in Dutch oven for 1 hour. Remove lid, bake 5+ mins until deep golden. Cool on a wire rack.</p>
            <div id="timer-7" class="timer"></div>
            <button onclick="startTimerForStep(7)">Start Timer</button>
        </div>
        <div id="step- Anime8" class="step hidden">
            <h2>Complete!</h2>
            <p>Your sourdough bread is ready! Enjoy!</p>
            <div id="timer-8" class="timer"></div>
            <button onclick="startTimerForStep(8)">Finish</button>
        </div>
    </div>

    <script>
        const timers = [
            { duration: 11 * 60 * 60 * 1000, label: "11 hours until Mix Dough" }, // 10:00 PM to 9:00 AM
            { duration: 2 * 60 * 60 * 1000, label: "2 hours until Add Salt" }, // 9:00 AM to 11:00 AM
            { duration: 3 * 60 * 60 * 1000, label: "3 hours until Shape" }, // 11:00 AM to 2:00 PM
            { duration: 25 * 60 * 1000, label: "25 minutes until Final Shape" }, // 2:00 PM to 2:25 PM
            { duration: 125 * 60 * 1000, label: "2 hours 5 minutes until Prove" }, // 2:25 PM to 4:30 PM
            { duration: 90 * 60 * 1000, label: "1 hour 30 minutes until Score & Bake" }, // 4:30 PM to 6:00 PM
            { duration: 65 * 60 * 1000, label: "1 hour 5 minutes until Complete" }, // 6:00 PM to 7:05 PM
            { duration: 0, label: "Complete" } // Final step
        ];

        let currentStep = 1;
        let timerInterval = null;

        function startTimerForStep(step) {
            // Clear any existing timer
            if (timerInterval) {
                clearInterval(timerInterval);
            }

            // Hide current step and show next step, unless it's the final step
            document.getElementById(`step-${step}`).classList.add('hidden');
            const nextStep = step + 1;
            if (nextStep <= 8) {
                document.getElementById(`step-${nextStep}`).classList.remove('hidden');
            }

            // Start timer for the current step
            const timerData = timers[step - 1];
            if (step < 8 && timerData.duration > 0) {
                const timerDisplay = document.getElementById(`timer-${nextStep}`);
                const endTime = Date.now() + timerData.duration;

                timerInterval = setInterval(() => {
                    const timeLeft = endTime - Date.now();
                    if (timeLeft <= 0) {
                        clearInterval(timerInterval);
                        timerDisplay.textContent = "Time's up! Ready for the next step.";
                        return;
                    }
                    const hours = Math.floor(timeLeft / (1000 * 60 * 60));
                    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                    timerDisplay.textContent = `${timerData.label}: ${hours}h ${minutes}m ${seconds}s`;
                }, 1000);
            } else {
                // Handle final step (step 8)
                const timerDisplay = document.getElementById(`timer-${step}`);
                timerDisplay.textContent = "Process complete!";
            }

            currentStep = nextStep;
        }
    </script>
</body>
</html>
